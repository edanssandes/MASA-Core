<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>MASA-Core: Malleable Architecture for Sequence Aligners</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />



</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">MASA-Core
   
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li class="current"><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="headertitle">
<div class="title">Malleable Architecture for Sequence Aligners </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>MASA (Malleable Architecture for Sequence Aligners) is a software architecture that simplifies the implementation of the Smith-Waterman algorithm with Affine Gap penalties in any software/hardware architecture. MASA is divided in two parts: the <em>"MASA Core"</em>, containing all the portable code; and the <em>"MASA Extension"</em>, that contains the non-portable code. In order to create a new MASA extension, the non-portable part of the code must be re-implemented while the portable code must be kept untouched. The MASA architecture uses an oriented object paradigm to make the non-portable code low dependent of the portable code. This loosely coupled architecture produces an easier integration between the non-portable code and the portable code.</p>
<p>Each ported version of MASA to other architecture is called a "MASA Extension" and it will be mentioned like <code>MASA-&lt;ARCH&gt;</code>, where <code>&lt;ARCH&gt;</code> is the ported architecture. For instance, a MASA extension that uses the SSE2 instruction set can be called <code>MASA-SSE2</code>, while a MASA extension for MPI can be called <code>MASA-MPI</code>.</p>
<p>CUDAlign is the MASA extension for NVidia CUDA architecture. Historically, CUDAlign was firstly developed and then MASA was derived from it. MASA was developed as an effort to allow CUDAlign to be ported to any hardware/software architecture. Despite the fact that MASA was derived from CUDAlign, we will treat CUDAlign as the MASA-CUDA extension.</p>
<p>MASA inherited many algorithmic optimizations from CUDAlign, like linear memory usage, orthogonal execution, block pruning, incremental stages and checkpoint saving. The architectural optimizations of CUDAlign was kept in the MASA-CUDA extension code, for example loop unrollings, cached textures, k-neighborhood and phase division.</p>
<p>CUDAlign and its optimizations are well explained in <a class="el" href="citelist.html#CITEREF_CUDALIGN:PPOPP2010">[1]</a> <a class="el" href="citelist.html#CITEREF_CUDALIGN:IPDPS2011">[2]</a> <a class="el" href="citelist.html#CITEREF_CUDALIGN:TPDS2012">[3]</a> <a class="el" href="citelist.html#CITEREF_CUDALIGN:PPOPP2014">[4]</a> <a class="el" href="citelist.html#CITEREF_CUDALIGN:CCGRID2014">[5]</a>.</p>
<h2><a class="anchor" id="sec_porting"></a>
Porting MASA to other architectures</h2>
<p>To port MASA to any architecture, you must create an <a class="el" href="classIAligner.html" title="Interface between the MASA extension and the MASA framework.">IAligner</a> implementation (or a subclass of <a class="el" href="classAbstractAligner.html" title="Abstract class that executes the Alignment procedure.">AbstractAligner</a>) and a Parameter handler (a subclass of <a class="el" href="classAbstractAlignerParameters.html" title="The customized parameters of a MASA Extension, used for receiving, manipulating and customizing comma...">AbstractAlignerParameters</a>). Then, create a main.cpp with the <code><a class="el" href="MasaNetCLI_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627">main()</a></code> entry point and call the <code><a class="el" href="libmasa_8cpp.html#ae1b2a2f38965db3273c86c3eda9897cb" title="Entry point for the MASA architecture.">libmasa_entry_point()</a></code>. Finally, compile the extension source code and link the object to the libmasa static library.</p>
<p>To understand how to implement these subclasses, read the documentation of <a class="el" href="classIAligner.html" title="Interface between the MASA extension and the MASA framework.">IAligner</a>, <a class="el" href="classAbstractAligner.html" title="Abstract class that executes the Alignment procedure.">AbstractAligner</a> and <a class="el" href="classAbstractAlignerParameters.html" title="The customized parameters of a MASA Extension, used for receiving, manipulating and customizing comma...">AbstractAlignerParameters</a>. Then, you may want to copy some of the already existing extension to start a new extension for another platform. Proper changes to the Makefile.am may be necessary.</p>
<p>The MASA core is not thread-safe, so the extension must guarantee that the libmasa are not called concurrently. So, if the Aligner handles simultaneous thread with unsafe calls, consider extending from <a class="el" href="classAbstractAlignerSafe.html" title="A thread-safe AbstractAligner extension.">AbstractAlignerSafe</a> instead of <a class="el" href="classAbstractAligner.html" title="Abstract class that executes the Alignment procedure.">AbstractAligner</a>.</p>
<h2><a class="anchor" id="sec_compiling_core"></a>
Compiling MASA-Core</h2>
<p>Execute the following commands to compile MASA-Core.</p>
<p><code> autoreconf --force --install<br/>
 ./configure<br/>
 make </code></p>
<p>This will create the libmasa.a static library.</p>
<p>Further compilation parameters are available using <code>./configure --help</code></p>
<h2><a class="anchor" id="sec_executing_extension"></a>
Executing a MASA extension</h2>
<p>All MASA extensions has the set of basic parameters, though they can extent this set to include extension-specific parameters. Considering that the extension binary is <code>masa-extension</code>, the most simple execution is</p>
<p><code>./masa-extension [fasta 1] [fasta 2]</code><br/>
</p>
<p>but there are many parameters that may be necessary to use in order to obtain the desired features.</p>
<p>See <code>./masa-extension --help</code> to an explanation of all the execution parameters. </p>
</div></div><!-- contents -->


<hr class="footer"/><address class="footer"><small>
Generated on Fri May 8 2015 11:39:33 for MASA-Core by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.6.1
</small></address>

</body>
</html>
